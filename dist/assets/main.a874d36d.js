let e=[],t=[],n=[];async function r(){const o=await fetch("https://foobar-examproject.herokuapp.com/"),c=await o.json();!function(o){(function(e){let t=e.timestamp,n=new Date(t),r=new Date;r.setHours(22,0,0);let o=Math.abs(r-n);c=o,d=(c=(c-c%1e3)/1e3)%60,l=(c=(c-d)/60)%60,o=(c-l)/60+":"+l+":"+d,document.getElementById("countdown").innerHTML=o;var c,d,l})(o),function(e){document.getElementById("bartenders").innerHTML="",e.bartenders.forEach((t=>{const n=document.createElement("div"),r=document.createElement("img");r.className="bartender_pictures",r.src="/img/"+t.name+".png";const o=document.createElement("p");o.innerHTML=t.name;const c=document.createElement("p");c.innerHTML=t.status;const d=document.createElement("p");d.innerHTML=t.statusDetail;let l=t.usingTap;const m=document.createElement("p");m.innerHTML=null===l?"N/A":e.taps[l].beer;const s=document.createElement("p");s.innerHTML=t.servingCustomer,n.appendChild(r),n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(m),n.appendChild(s),document.getElementById("bartenders").appendChild(n)}))}(o),function(e){document.getElementById("beer_pictures").innerHTML="";let t=e.queue.length;document.getElementById("queue_number").innerHTML=t;for(let n=0;n<t;n++){const e=document.createElement("img");e.className="beer_picture",e.src="/img/beer-mug.png",document.getElementById("beer_pictures").appendChild(e)}}(o),function(r){document.getElementById("order_queue").innerHTML="",document.getElementById("order_in_progress").innerHTML="",document.getElementById("order_finished").innerHTML="",t=r.queue,n=r.serving;let o=0;t.forEach((e=>{if(o<5){const t=document.createElement("p");t.innerHTML=e.id,document.getElementById("order_queue").appendChild(t),o++}})),n.forEach((t=>{const n=document.createElement("p");n.innerHTML=t.id,document.getElementById("order_in_progress").appendChild(n),e.includes(t.id)||e.unshift(t.id)}));let c=document.querySelector("#order_in_progress").childNodes,d=[];c.forEach((e=>{d.push(e.innerHTML)}));let l=0;e.forEach((e=>{if(!d.includes(e.toString())&&l<5){const t=document.createElement("p");t.innerHTML=e,document.getElementById("order_finished").appendChild(t),l++}}))}(o),function(e){let t=e.taps;t.sort((function(e,t){return e.level-t.level}));let n=t.slice(0,3);for(let r=0;r<n.length;r++){let e="stock"+r+"_name",t="stock"+r+"_level",o="stock"+r+"_kegs",c="stock"+r+"_img",d="/img/kegs/"+n[r].beer+".png";document.getElementById(c).src=d,document.getElementById(e).innerHTML=n[r].beer,document.getElementById(t).innerHTML=n[r].level,document.getElementById(o).innerHTML=3}}(o),setTimeout(r,1e3)}(c);const d=await fetch("https://foobar-examproject.herokuapp.com/beertypes");await d.json();let l=c.queue.length;console.log("Queue Length: "+l)}r();const o=document.querySelector("#hr"),c=document.querySelector("#mn"),d=document.querySelector("#sc");setInterval((()=>{let e=new Date,t=30*e.getHours(),n=6*e.getMinutes(),r=6*e.getSeconds();o.style.transform=`rotateZ(${t+n/12}deg)`,c.style.transform=`rotateZ(${n}deg)`,d.style.transform=`rotateZ(${r}deg)`}));
